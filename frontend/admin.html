
<h1>DDC Admin Dashboard</h1>
<button onclick=load()>Load Orders</button>
<div id=o></div>
<script>
function load(){
fetch("https://ddc-backend-cen0.onrender.com/",{
headers:{Authorization:"Bearer "+localStorage.token}
}).then(r=>r.json()).then(d=>{
o.innerHTML=d.map(x=>`
<div>
Order #${x.id}
<button onclick="c(${x.id})">Confirm</button>
<button onclick="r(${x.id})">Reject</button>
</div>`).join("");
});
}
function c(id){
fetch("https://ddc-backend-cen0.onrender.com/"+id+"/confirm",{
method:"PATCH",headers:{Authorization:"Bearer "+localStorage.token}
}).then(load);
}
function r(id){
fetch("https://ddc-backend-cen0.onrender.com/"+id+"/reject",{
method:"PATCH",headers:{Authorization:"Bearer "+localStorage.token}
}).then(load);
}
</script>
